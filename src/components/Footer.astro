---
import { SITE_TITLE } from "../consts";
const today = new Date();

/* GitLab Pages SAFE */
const base = import.meta.env.BASE_URL.replace(/\/$/, "");
---

<footer class="footer">
	<!-- Background blobs for footer -->
	<div class="footer-bg">
		<div class="blob-footer"></div>
	</div>

	<div class="container footer-content">
		<!-- COL 1: IDENTITY -->
		<div class="footer-col brand-col">
			<a href={base + "/"} class="footer-logo">{SITE_TITLE}</a>
			<p class="footer-tagline">
				Cr√©ation d'exp√©riences num√©riques immersives & performantes.
			</p>
		</div>

		<!-- COL 2: LINKS -->
		<div class="footer-col links-col">
			<h3>Navigation</h3>
			<ul class="footer-links">
				<li><a href={base + "/"}>Accueil</a></li>

				<!-- A Propos Group -->
				<li class="nav-group">
					<span class="group-title">A propos</span>
					<ul class="sub-links">
						<li>
							<a href={base + "/presentation"}>Pr√©sentation</a>
						</li>
						<li><a href={base + "/cv"}>Mon CV</a></li>
					</ul>
				</li>

				<li><a href={base + "/competences"}>Comp√©tences</a></li>

				<!-- Portfolio Group -->
				<li class="nav-group">
					<span class="group-title">Portfolio</span>
					<ul class="sub-links">
						<li>
							<a href={base + "/developpement"}
								>D√©veloppement Web</a
							>
						</li>
						<li>
							<a href={base + "/design"}>Cr√©ation num√©rique</a>
						</li>
						<li>
							<a href={base + "/communication"}>Communication</a>
						</li>
						<li><a href={base + "/light"}>Lumi√®re & Son</a></li>
					</ul>
				</li>

				<li><a href={base + "/contact"}>Contact</a></li>
			</ul>
		</div>

		<!-- COL 3: SOCIAL & CONTACT -->
		<div class="footer-col social-col">
			<h3>Me contacter</h3>
			<ul class="contact-list">
				<li>
					<a
						href="mailto:tom.marcheron@gmail.com"
						class="contact-link"
					>
						<span class="icon">‚úâÔ∏è</span> tom.marcheron@gmail.com
					</a>
				</li>
				<li>
					<a
						href="https://linkedin.com/in/tom-marcheron-35b087357"
						target="_blank"
						class="contact-link"
					>
						<span class="icon">
							<svg
								viewBox="0 0 24 24"
								aria-hidden="true"
								fill="currentColor"
								width="18"
								height="18"
							>
								<path
									d="M20.5 2h-17A1.5 1.5 0 002 3.5v17A1.5 1.5 0 003.5 22h17a1.5 1.5 0 001.5-1.5v-17A1.5 1.5 0 0020.5 2zM8 19H5v-9h3zM6.5 8.25A1.75 1.75 0 118.3 6.5a1.78 1.78 0 01-1.8 1.75zM19 19h-3v-4.74c0-1.42-.6-1.93-1.38-1.93A1.74 1.74 0 0013 14.19V19h-3v-9h2.9v1.3a3.11 3.11 0 012.7-1.4c1.55 0 3.36.86 3.36 3.66z"
								></path>
							</svg>
						</span>
						Tom Marcheron
					</a>
				</li>
				<li>
					<span class="contact-text">
						<span class="icon">üìç</span> France, Normandie
					</span>
				</li>
			</ul>
		</div>
	</div>

	<div class="footer-bottom">
		<div class="container">
			&copy; {today.getFullYear()} Tom Marcheron. Tous droits r√©serv√©s.
		</div>
	</div>
</footer>

<style>
	.footer {
		position: relative;
		padding: 3rem 0 1.5rem;
		/* Fond clair et lumineux */
		background: linear-gradient(
			180deg,
			rgba(255, 255, 255, 0.8) 0%,
			rgba(240, 240, 250, 0.95) 100%
		);
		backdrop-filter: blur(20px);
		-webkit-backdrop-filter: blur(20px);
		border-top: 1px solid rgba(0, 0, 0, 0.05);
		overflow: hidden;
		margin-top: 4rem;
		font-family: "Outfit", sans-serif;
	}

	/* Ligne de gradient en haut pour le style */
	.footer::before {
		content: "";
		position: absolute;
		top: 0;
		left: 20%;
		right: 20%;
		height: 1px;
		background: linear-gradient(
			90deg,
			transparent,
			var(--color-primary),
			var(--color-secondary),
			transparent
		);
		opacity: 0.3;
	}

	/* Decorative Blob - Ajust√© pour fond clair */
	.footer-bg {
		position: absolute;
		bottom: -100px;
		left: 50%;
		transform: translateX(-50%);
		width: 100%;
		max-width: 800px;
		height: 400px;
		z-index: -1;
		pointer-events: none;
		opacity: 0.5;
	}
	.blob-footer {
		width: 100%;
		height: 100%;
		background: radial-gradient(
			ellipse at center,
			rgba(var(--color-primary-rgb), 0.1),
			rgba(var(--color-secondary-rgb), 0.05),
			transparent 70%
		);
		filter: blur(80px);
	}

	.footer-content {
		display: grid;
		grid-template-columns: 2fr 1fr 1fr;
		gap: 2rem;
		margin-bottom: 2rem;
	}

	/* Brand Column */
	.brand-col {
		display: flex;
		flex-direction: column;
		gap: 1.2rem;
	}
	/* Logo utilisant le gradient du texte principal ou une couleur sombre */
	.footer-logo {
		font-family: "Outfit", sans-serif;
		font-size: 1.8rem;
		font-weight: 800;
		color: var(--color-text-main);
		text-decoration: none;
		letter-spacing: -0.02em;
		display: inline-block;
	}
	.footer-tagline {
		color: var(--color-text-soft);
		font-size: 1rem;
		line-height: 1.6;
		max-width: 350px;
	}

	/* Headers */
	h3 {
		color: var(--color-text-main); /* Texte sombre */
		font-size: 0.85rem;
		font-weight: 700;
		text-transform: uppercase;
		letter-spacing: 0.1em;
		margin-bottom: 2rem;
		opacity: 0.9;
	}

	/* Links & Lists */
	.footer-links,
	.contact-list {
		list-style: none;
		padding: 0;
		margin: 0;
		display: flex;
		flex-direction: column;
		gap: 0.8rem;
	}

	.footer-links a,
	.contact-link,
	.contact-text {
		color: var(--color-text-soft); /* Gris moyen/sombre */
		text-decoration: none;
		transition: all 0.3s ease;
		font-size: 1rem;
		display: flex;
		align-items: center;
		gap: 0.8rem;
		font-weight: 400;
	}

	.icon {
		font-size: 1.1rem;
		opacity: 0.8;
	}

	.footer-links a:hover,
	.contact-link:hover {
		color: var(--color-primary); /* Couleur au survol */
		transform: translateX(5px);
	}

	/* Social */
	.social-links {
		display: flex;
		gap: 1rem;
	}
	/* Note: Social icons removed in favor of contact list, 
     but keeping styles just in case or for future use if block remains */
	.social-icon {
		/* Style minimaliste si utilis√© ailleurs */
	}

	/* Bottom Bar */
	.footer-bottom {
		padding-top: 2rem;
		border-top: 1px solid rgba(0, 0, 0, 0.05);
		text-align: center;
		font-size: 0.85rem;
		color: var(--color-text-soft);
		display: flex;
		justify-content: center;
		align-items: center;
		opacity: 0.8;
	}

	/* Group Styles */
	.nav-group {
		display: flex;
		flex-direction: column;
		gap: 0.3rem;
		margin-top: 0.4rem;
		margin-bottom: 0.4rem;
	}

	.group-title {
		font-weight: 700;
		color: var(--color-primary-dark);
		font-size: 0.9rem;
		opacity: 0.8;
		cursor: default;
	}

	.sub-links {
		padding-left: 0.8rem;
		display: flex;
		flex-direction: column;
		gap: 0.3rem;
	}

	.footer-links a:hover,
	.contact-link:hover {
		transform: translateX(5px);
	}

	/* Responsive */
	@media (max-width: 768px) {
		.footer-content {
			grid-template-columns: 1fr;
			gap: 2.5rem;
			text-align: center;
		}
		.footer-bg {
			width: 100%;
		}
		.brand-col,
		.footer-links,
		.contact-list,
		.nav-group,
		.sub-links {
			align-items: center;
		}

		/* Reset padding for centered mobile layout */
		.sub-links {
			padding-left: 0;
			gap: 0.6rem;
		}

		.group-title {
			margin-top: 0.5rem;
			color: var(--color-primary); /* More visible on mobile */
		}

		.footer-tagline {
			margin: 0 auto;
		}
		.footer-links a:hover {
			transform: none;
		}
	}
</style>
